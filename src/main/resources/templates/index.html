<!DOCTYPE html>
<html>

<head xmlns:th="http://www.thymeleaf.org">
	<meta charset="UTF-8">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

	<!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"
		integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

	<script th:src="@{~/js/site.js}"></script>

	<title>Crud - Thymeleaf</title>
</head>

<body>

	<header>

		<nav>
			<div class="nav-wrapper blue darken-4 white-text">
				<div class="container">
					<a th:href="@{~/}" class="brand-logo">Crud</a>
				</div>
			</div>
		</nav>

	</header>

	<section>

		<div class="container">

			<div class="row">

				<div class="col s12">

					<div class="card-panel">

						<div class="card-title">

							<div class="right-align">

								<a th:href="@{/cliente}" class="btn waves-effect waves-light green darken-4"><i
										class="material-icons left">person</i>Novo</a>

							</div>

							<h5>Clientes</h5>

						</div>

						<div class="card-content">

							<table class="striped responsive-table">
								<thead>
									<tr>
										<th>Nome</th>
										<th>Fone</th>
										<th>Email</th>
										<th>Cidade</th>
										<th>Operações</th>
									</tr>
								</thead>

								<tbody>
									<tr th:if="${clientes.empty}">
										<td colspan="5" class="center-align">Lista vazia ...</td>
									</tr>
									<tr th:each="cliente : ${clientes}">
										<td th:text="${cliente.nome}"></td>
										<td th:text="${cliente.getFoneFormatado()}"></td>
										<td th:text="${cliente.email}"></td>
										<td th:text="${cliente.cidade}"></td>

										<td>

											<a class="btn waves-effect blue darken-3"
												th:href="@{'/editar/' + ${cliente.id}}"> <i
													class="material-icons">edit</i></a>

											<a class="btn waves-effect red darken-3"
												th:href="@{'/deletar/' + ${cliente.id}}"
												th:attr="onclick=|return confirmarExclusao()|"> <i
													class="material-icons">delete_forever</i></a>

										</td>

									</tr>
								</tbody>
							</table>

						</div>

					</div>

				</div>

			</div>

		</div>

	</section>

	<footer>

		<div class="container">

			<div class="divider"></div>

			<h5>Paulo Zier - 2021</h5>
			<p>paulozier42@gmail.com</p>

		</div>

	</footer>

	<script th:if="${success != null}" th:inline="javascript">
		/*<![CDATA[*/
		var success = /*[[${success}]]*/ '';
		M.toast({ html: success, classes: 'rounded green' });
		/*]]>*/
	</script>

</body>

</html>